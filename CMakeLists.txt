cmake_minimum_required(VERSION 2.6)

PROJECT( opus )

message("Source Dir:" ${opus_SOURCE_DIR})

SET(EXECUTABLE_OUTPUT_PATH ${opus_SOURCE_DIR}/bin)
SET(LIBRARY_OUTPUT_PATH ${opus_SOURCE_DIR}/lib)
SET(RUNTIME_OUTPUT_DIRECTORY ${opus_SOURCE_DIR}/bin)

SET(opus_BIN ${opus_SOURCE_DIR}/bin)

message("opus_SOURCE_DIR directories:" ${opus_SOURCE_DIR})

add_definitions(/DHAVE_CONFIG_H)

IF(WIN32)
IF(MSVC12)
message("Detected MSVC12 compiler")
set(MSVC_VER VC12)
ELSEIF(MSVC11)
message("Detected MSVC11 compiler")
set(MSVC_VER VC11)
ELSEIF(MSVC10)
message("Detected MSVC10 compiler")
set(MSVC_VER VC10)
ELSE(MSVC12)
message("WARNING: Unknown/unsupported MSVC version")
ENDIF(MSVC12)
ENDIF(WIN32)

IF(WIN32)
SET(opusIncludes
${opus_SOURCE_DIR}
${opus_SOURCE_DIR}/include
${opus_SOURCE_DIR}/win32
)
ELSEIF(UNIX)
# Include directories
SET(opusIncludes
${opus_SOURCE_DIR}
${opus_SOURCE_DIR}/include
/usr/local/include
)
ENDIF(WIN32)

message("opusIncludes directories:" ${opusIncludes})

# lib directories
IF(WIN32)
SET(opusLink
${opus_SOURCE_DIR}/lib
)
ELSEIF(UNIX)
SET(opusLink
${opus_SOURCE_DIR}/lib
/usr/local/lib
/usr/lib
)
ENDIF(WIN32)

message("opusLink directories:" ${opusLink})

ADD_SUBDIRECTORY( celt )
ADD_SUBDIRECTORY( silk ) 
ADD_SUBDIRECTORY( src) 
